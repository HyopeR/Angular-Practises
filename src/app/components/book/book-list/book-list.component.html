<error-alert *ngIf="error$ | async as error" [error]="error"></error-alert>
<loading-spinner *ngIf="loading$ | async as loading"></loading-spinner>

<div class="row" *ngIf="bookItems$ | async as bookItems">
  <div class="col-6 col-md-4" *ngFor="let book of bookItems">

    <div>
      <div class="card mt-3" (click)="clickBook(book)">
        <img class="card-img-top" style="max-height: 300px !important;" src="{{book.img_url}}" alt="{{book.name}} Poster">
        <div class="card-body p-3">
          <h5 class="card-title">{{book.name}}</h5>
          <p class="card-text cart-description-formatter">{{book.description}}</p>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">
            {{book.price}} <i class="fa fa-lira-sign ml-1"></i>
          </li>
          <book-detail *ngIf="book.id === (selectedBook$ | async)?.id" [book] = book></book-detail>
        </ul>
      </div>

      <div class="card-body p-0">
        <a class="btn btn-sm btn-info w-50 rounded-0 border-right border-left-1">Card link</a>
        <a class="btn btn-sm btn-info w-50 rounded-0" (click)="deleteBook(book.id)">
          Delete <i class="fa fa-trash ml-1"></i>
        </a>
      </div>
    </div>

  </div>
</div>
